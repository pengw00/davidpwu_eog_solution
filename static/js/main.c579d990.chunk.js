(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){e.exports=n(230)},230:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(33),o=n.n(c),u=n(23),i=n(91),s=n(103),l=n(55),p=n(6),d=n.n(p),m=n(7),b=n(27),h=(n(56),{findLocationByLatLng:function(){var e=Object(b.a)(d.a.mark(function e(t,n){var a,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[t,n].join(","),e.next=3,fetch("https://react-assessment-api.herokuapp.com/api/weather/location/search/?lattlong=".concat(a));case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:{code:r.status}});case 6:return e.next=8,r.json();case 8:return c=e.sent,e.abrupt("return",{data:c});case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),findWeatherbyId:function(){var e=Object(b.a)(d.a.mark(function e(t){var n,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-assessment-api.herokuapp.com/api/weather/location/".concat(t,"/"));case 2:if((n=e.sent).ok){e.next=5;break}return e.abrupt("return",{error:{code:n.status}});case 5:return e.next=7,n.json();case 7:return a=e.sent,e.abrupt("return",{data:a});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getDrone:function(){var e=Object(b.a)(d.a.mark(function e(){var t,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-assessment-api.herokuapp.com/api/drone");case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",{error:{code:t.status}});case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",{data:n});case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}),f="COMMAND/FETCH_WEATHER_FOR_LAT_LNG",E="EVENT/API_ERROR_RECEIVED",O="EVENT/WEATHER_DATA_RECEIVED",w="EVENT/WEATHER_ID_RECEIVED",j="COMMAND/UPDATE_DRONE",v="EVENT/DRONE_DATA_RECEIVED",y="EVENT/UPDATE_DRONE_DATA",x=d.a.mark(D),g=d.a.mark(_),k=d.a.mark(T);function D(e){var t,n,a,r;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,c.next=3,Object(m.b)(h.findWeatherbyId,t);case 3:if(n=c.sent,a=n.error,r=n.data,!a){c.next=12;break}return c.next=9,Object(m.d)({type:E,code:a.code});case 9:return c.next=11,Object(m.c)();case 11:return c.abrupt("return");case 12:return c.next=14,Object(m.d)({type:O,data:r});case 14:case"end":return c.stop()}},x)}function _(e){var t,n,a,r,c,o;return d.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.latitude,n=e.longitude,u.next=3,Object(m.b)(h.findLocationByLatLng,t,n);case 3:if(a=u.sent,r=a.error,c=a.data,!r){u.next=12;break}return u.next=9,Object(m.d)({type:E,code:r.code});case 9:return u.next=11,Object(m.c)();case 11:return u.abrupt("return");case 12:if(o=!!c[0]&&c[0].woeid){u.next=19;break}return u.next=16,Object(m.d)({type:E});case 16:return u.next=18,Object(m.c)();case 18:return u.abrupt("return");case 19:return u.next=21,Object(m.d)({type:w,id:o});case 21:case"end":return u.stop()}},g)}function T(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([Object(m.e)(f,_),Object(m.e)(w,D)]);case 2:case"end":return e.stop()}},k)}var R=[T],A=n(45),N=d.a.mark(C),I=d.a.mark(V);function C(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.b)(A.toast.error,"Error Received: ".concat(e.code));case 2:case"end":return t.stop()}},N)}function V(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(E,C);case 2:case"end":return e.stop()}},I)}var S=[V],L=d.a.mark(P),W=d.a.mark(F),M=d.a.mark(B);function P(e){var t;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,n.next=3,Object(m.d)({type:y,data:t});case 3:case"end":return n.stop()}},L)}function F(){var e,t,n;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(m.b)(h.getDrone);case 2:if(e=a.sent,t=e.error,n=e.data,!t&&n){a.next=11;break}return a.next=8,Object(m.d)({type:E,code:t.code?t.code:null});case 8:return a.next=10,Object(m.c)();case 10:return a.abrupt("return");case 11:return a.next=13,Object(m.d)({type:v,data:n});case 13:case"end":return a.stop()}},W)}function B(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([Object(m.e)(j,F),Object(m.e)(v,P)]);case 2:case"end":return e.stop()}},M)}var H,q=[B],G=[].concat(Object(l.a)(S),Object(l.a)(R),Object(l.a)(q)),z=n(22),J=n(104),U=n(53),K={loading:!1,weatherId:null,name:"",temperature:"",weather_state_name:"",latitude:null,longitude:null,data:{}},Y=(H={},Object(z.a)(H,f,function(e,t){return Object(U.a)({},e,{loading:!0})}),Object(z.a)(H,w,function(e,t){return Object(U.a)({},e,{weatherId:t.id})}),Object(z.a)(H,O,function(e,t){var n=t.data;if(!n.consolidated_weather)return e;var a,r=n.consolidated_weather[0],c=r.weather_state_name,o=r.the_temp,u=n.latt_long,i=n.title,s=u.split(","),l=Object(J.a)(s,2),p=l[0],d=l[1];return Object(U.a)({},e,{loading:!1,latitude:p,longitude:d,temperatureinCelsius:o,temperatureinFahrenheit:(a=o,9*a/5+32),weather_state_name:c,name:i,data:t.data})}),H),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=Y[t.type];return"undefined"===typeof n?e:n(e,t)},Q={droneData:[]},X=Object(z.a)({},y,function(e,t){return{droneData:t.data}}),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=X[t.type];return"undefined"===typeof n?e:n(e,t)},ee=n(28),te=n(13),ne=n(102),ae=n.n(ne),re=(n(123),n(43)),ce=n.n(re),oe=n(96),ue=n.n(oe),ie=n(97),se=n.n(ie),le=n(46),pe=n(47),de=n(51),me=n(48),be=n(52),he=n(95),fe=n.n(he),Ee=n(94),Oe=n.n(Ee),we=Object(te.withStyles)(function(e){return{root:{background:e.palette.secondary.main},label:{color:e.palette.primary.main}}})(Oe.a),je=function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(be.a)(t,e),Object(pe.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.name,a=e.weather_state_name,c=e.temperatureinFahrenheit;return t?r.a.createElement(fe.a,null):r.a.createElement(we,{label:"Weather in ".concat(n,": ").concat(a," and ").concat(c,"\xb0")})}}]),t}(a.Component),ve=Object(ee.b)(function(e,t){var n=e.weather;return{loading:n.loading,name:n.name,weather_state_name:n.weather_state_name,temperatureinFahrenheit:n.temperatureinFahrenheit}},function(e){return{onLoad:function(){return e({type:f,longitude:-95.3698,latitude:29.7604})}}})(je),ye=Object(te.withStyles)({grow:{flexGrow:1}})(function(e){var t=e.classes;return r.a.createElement(ue.a,{position:"static"},r.a.createElement(se.a,null,r.a.createElement(ce.a,{variant:"h6",color:"inherit",className:t.grow},"davidpwu's"," EOG React Visualization Solution"),r.a.createElement(ve,null)))}),xe=Object(te.withStyles)(function(e){return{wrapper:{background:e.palette.background.main,height:"100%"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.wrapper},e.children)}),ge=n(49),ke=n.n(ge),De=n(68),_e=n.n(De),Te=n(50),Re=n.n(Te),Ae=n(99),Ne=n.n(Ae),Ie=n(34),Ce=n.n(Ie),Ve=n(35),Se=n.n(Ve),Le=n(98),We=n.n(Le),Me=Object(te.withStyles)(function(e){return{root:{background:e.palette.primary.main},title:{color:"white"}}})(_e.a),Pe=Object(te.withStyles)(function(e){return{root:{background:e.palette.primary.main},title:{color:"white"}}})(We.a),Fe=(Object(te.withStyles)({card:{width:"20%"}})(function(e){var t=e.classes;return r.a.createElement(ke.a,{className:t.card},r.a.createElement(Me,{title:"OK, davidpwu, you're all setup. Now What?"}),r.a.createElement(Re.a,null,r.a.createElement(Ne.a,null,r.a.createElement(Ce.a,null,r.a.createElement(Pe,null,"1"),r.a.createElement(Se.a,{primary:"Connect to the Drone API"})),r.a.createElement(Ce.a,null,r.a.createElement(Pe,null,"2"),r.a.createElement(Se.a,{primary:"Create your Visualization"})),r.a.createElement(Ce.a,null,r.a.createElement(Pe,null,"3"),r.a.createElement(Se.a,{primary:"Poll the API"})),r.a.createElement(Ce.a,null,r.a.createElement(Pe,null,"4"),r.a.createElement(Se.a,{primary:"Submit Your App"})))))}),n(69)),Be=n.n(Fe),He=n(100),qe=n.n(He),Ge=n(101),ze=n.n(Ge),Je=Object(te.withStyles)({graph:{height:"50%",width:"100%"},grid:{paddingTop:50},card:{margin:"5% 25%"},center:{textAlign:"center"},position:{width:"100%",height:"80%"}})(function(e){var t=e.classes,n=e.droneData.data.map(function(e){return qe()(e.timestamp).format("kk:mm:ss")}),a=e.droneData.data.map(function(e){return e.metric});return r.a.createElement(Be.a,{className:t.position,container:!0},r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(ke.a,{className:t.card},r.a.createElement(Re.a,null,r.a.createElement(ze.a,{className:t.graph,data:[{x:n,y:a,type:"linear",marker:{color:"blue"}}],layout:{title:"Sample Drone Temperature",xaxis:{autotick:!1,dtick:40},margin:{l:30,r:35,t:30,b:40}}})))))}),Ue=function(e){function t(e){var n;return Object(le.a)(this,t),n=Object(de.a)(this,Object(me.a)(t).call(this,e)),e.onRequestDrone(),setInterval(e.onRequestDrone,4e3),n}return Object(be.a)(t,e),Object(pe.a)(t,[{key:"render",value:function(){return 0===this.props.droneData.length?r.a.createElement("div",null,"loading"):r.a.createElement(Je,this.props)}}]),t}(a.Component),Ke=Object(ee.b)(function(e){return{droneData:e.drone.droneData}},function(e){return{onRequestDrone:function(){return e({type:j})}}})(Ue),Ye=function(){var e=Object(u.combineReducers)({weather:$,drone:Z}),t=Object(i.composeWithDevTools)({}),n=Object(s.a)(),a=Object(u.applyMiddleware)(n),r=Object(u.createStore)(e,t(a));return G.forEach(n.run),r}(),$e=Object(te.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(250,208,222)"},background:{main:"rgb(226,231,238)"}}}),Qe=function(e){return r.a.createElement(te.MuiThemeProvider,{theme:$e},r.a.createElement(ae.a,null),r.a.createElement(ee.a,{store:Ye},r.a.createElement(xe,null,r.a.createElement(ye,null),r.a.createElement(Ke,null),r.a.createElement(A.ToastContainer,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[105,2,1]]]);
//# sourceMappingURL=main.c579d990.chunk.js.map